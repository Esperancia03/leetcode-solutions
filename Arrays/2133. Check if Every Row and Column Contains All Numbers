class Solution {
public:
    bool checkValid(vector<vector<int>>& matrix) {
         int n=matrix.size();

        vector<set<int>> rows(n);
        vector<set<int>> cols(n);

        for(int r=0; r<n; r++)
        {
            for (int c=0; c<n; c++)
            {
                int val = matrix[r][c];

                if(val < 1 || val > n) return false;
                if(rows[r].count(val)) return false;
                if(cols[c].count(val)) return false;

                rows[r].insert(val);
                cols[c].insert(val);
            }
        }
      return true;
    }
};
